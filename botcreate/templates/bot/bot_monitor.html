{% load static %}
{% load custom_filters %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Automation</title>



    <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="{% static 'assets/css/Pretty-Registration-Form.css' %}">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.3/css/dataTables.bootstrap5.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <style> body  {opacity:0;}</style>
     <script>
  window.onload = function() {setTimeout(function(){document.body.style.opacity="100";},500);};
 </script>

    <style>

        #example

        #tabledata{
        overflow: auto;
        }

        .paginate_button{
         background-color: #4CAF50; /* Green */
         border: none;
         color: white;
         padding: 5px 5px;
         text-align: center;
         text-decoration: none;
         display: inline-block;
         font-size: 12px;
         margin:10px;
         }

        #example_paginate{
        text-align:left
        }

        th{
        font-size:10px;
        }

        #example_filter{
        color:green;
        font-size: 13px;
        }

        #example_length{
        color:green;
        font-size: 13px;
        }

        #example_info{
        color:green;
        font-size: 13px;
        }

        .odd,.even{
        background-color:white;
        font-size:12px;
        }

        table.dataTable tbody tr td {
        word-wrap: normal;
        word-break: keep-all;
        }

        table.dataTable thead tr th {
        min-width: 70px !important;
        padding-top: 0px !important;
        height:20px !important;

        }

        .navbar{
        background-color: #8BD182;
        padding:0px;
        }



    </style>



    <script>


           $(document).ready(function() {
    // Initialize multiselect dropdown

    // Listen for change event on multiselect dropdown
    $('#dropdownselect').on('change', function() {
      // Get selected value(s)
      var selectedValues = $(this).val();

      // Set value of hidden element's ID to selected value(s)
      $('#hiddenInput').val(selectedValues);
      $('#hiddenInputmail').val(selectedValues);
    });
  });


    </script>

    <script>
        $(document).ready(function(){
          $('#fromdate').datepicker({
          format: 'dd/mm/yyyy',
          orientation: 'bottom auto'
          });
          $('#todate').datepicker({
          format: 'dd/mm/yyyy',
          orientation: 'bo#8BD182 to'

          });
          $('#enddate').datepicker({
          format: 'dd/mm/yyyy',
          orientation: 'bottom auto'

          });

          $('#example').DataTable();

        });


        function validateForm() {
          var fromdate = $("#fromdate").val();
          var todate = $("#todate").val();
          $("#fromdatenew").val(fromdate);
          $("#todatenew").val(todate);
          $("#fromdatemailnew").val(fromdate);
          $("#todatemailnew").val(todate);
          let text;
          if (confirm("Are you sure to mail report!") == true) {
          return true;
          } else {
          return false;
          }
          }

          function validateFormnew() {
          var fromdate = $("#fromdate").val();
          var todate = $("#todate").val();
          $("#fromdateview").val(fromdate);
          $("#todateview").val(todate);
          }

          function validateFormreport() {
          var fromdate = $("#fromdate").val();
          var todate = $("#todate").val();
          $("#fromdatenew").val(fromdate);
          $("#todatenew").val(todate);
          }

         $(document).ready(function() {

         if (showModal) {
         $('#staticBackdrop').modal('show');
         }

         });




    </script>

</head>


<body>

<div class="loader"></div>

<div clas="row" style="height:0px;">
<nav class="navbar navbar-expand-lg" style="width:1250px;">
    <div class="container-fluid">
        <a href="{% url 'bot:index' %}" class="navbar-brand"><img src="{% static 'assets/img/Redserv.png' %}" width="100px" height="50px"></img></a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav">
                <a href="{% url 'bot:index' %}" class="nav-item nav-link active">Home</a>
                <a href="{% url 'bot:botviewquery' %}" class="nav-item nav-link active">Deployed</a>
                <a href="{% url 'bot:botmonitor' %}" class="nav-item nav-link active">Monitor</a>
                 <a href="{% url 'bot:chartview' %}" class="nav-item nav-link active" tabindex="-1">Chart</a>
            <a href="{% url 'bot:logout' %}"><button style="margin-left:720px;background-color:#AFE1AF;color:black" type="button" class="btn btn-success">Logout</button></a>

            </div>
            <div class="navbar-nav ms-auto">
                <a href="#" class="nav-item nav-link"></a>
            </div>
        </div>
    </div>
</nav>
</div>
<div class="row register-form" >

</div>

<div style="margin-top:100px;"></div>

<div id="tabledata"  style="width:1250px;margin-top:15px;">

<br>

<table id="example"  class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th style="min-width: 30px">BotNo</th>
                <th style="min-width: 30px">BotName</th>
                <th style="min-width: 30px">Developer</th>
                <th style="min-width: 150px">Nooftimeused</th>
                <th style="min-width: 150px">CreatedDate</th>
                <th style="min-width: 150px">LastUsedDate</th>
                <th style="min-width: 150px">Ipaddress</th>
            </tr>
        </thead>
        <tbody>


            {% for Bot in bots%}
            <tr>
                <td>{{Bot.1}}</td>

                <td>{{Bot.2}}</td>
                <td>{{Bot.7}}</td>
                <!--<td>{{Bot.Process}}</td>-->
                <td>{{Bot.3}}</td>
                <td>{{Bot.4}}</td>
                <td>{{Bot.5}}</td>
                <td>{{Bot.6}}</td>

            </tr>
            {% endfor %}

        </tbody>
    </table>
</div>


<div class="row" style="background-color:#8BD182;height:50px;width:1280px;">

</div>


{% if show_modal %}
  <script>
    var showModal = true;
  </script>
{% else %}
  <script>
    var showModal = false;
  </script>
{% endif %}


<!-- Button trigger modal -->



<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">{{botno}}-{{botname}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <i class="fa fa-file" style="font-size:20px;color:green">Files</i>
       <h4>------</h4>
       {% for file in files %}
       <p>{{ file }}</p>
       {% endfor %}

       <i class="fa fa-folder" style="font-size:20px;color:red">Folders</i>
       <h4>-------</h4>
       {% for folder in folders %}
       <p>{{ folder }}</p>
       {% endfor %}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>


<!-- Modal -->


</body>

</html>